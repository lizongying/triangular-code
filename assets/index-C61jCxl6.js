import"./modulepreload-polyfill-DQ8RlzRK.js";import{t as e}from"./generator-CUu2Chki.js";window.onload=()=>{let t=document.querySelector(`#svg`),n=document.querySelector(`#input`),r=document.querySelector(`#slider`),i=document.querySelector(`[name="bits"][checked]`);console.log(`bits`,i.value),r.value=200;let a=new e(t,n.value,Number(i.value),200);n.addEventListener(`input`,()=>{a.updateText(n.value)}),r.addEventListener(`input`,()=>{a.updateSize(Number(r.value))});let o=!1,s=document.querySelector(`.container`),c=document.querySelector(`.aside`),l=document.querySelector(`#action`);l.onclick=()=>{o?(n.style.display=`flex`,s.style.width=`calc(100% - 5em)`,c.style.display=`grid`,l.innerText=`隱`):(n.style.display=`none`,s.style.width=`100%`,c.style.display=`none`,l.innerText=`顯`),o=!o},document.querySelector(`#export`).onclick=e=>{e.preventDefault();let t=s.querySelector(`svg`),n=new XMLSerializer().serializeToString(t),r=document.createElement(`canvas`),i=r.getContext(`2d`),a=new Image,o=new Blob([n],{type:`image/svg+xml;charset=utf-8`}),c=URL.createObjectURL(o);a.onload=()=>{r.width=t.width.baseVal.value,r.height=t.height.baseVal.value,i.drawImage(a,0,0);let e=document.createElement(`a`);e.download=`tc.png`,e.href=r.toDataURL(`image/png`),e.click(),URL.revokeObjectURL(c)},a.src=c},document.querySelectorAll(`input[name="bits"]`).forEach(e=>{e.addEventListener(`change`,e=>{a.updateColor(Number(Number(e.target.value)))})})};