import"./modulepreload-polyfill-DQ8RlzRK.js";import{t as e}from"./generator-BGca2ARH.js";var t=window.matchMedia(`(prefers-color-scheme: dark)`).matches,n=/Android/i.test(navigator.userAgent),r=t&&n;window.onload=()=>{let t=document.querySelector(`#svg`),n=document.querySelector(`#input`),i=document.querySelector(`#slider`),a=document.querySelector(`[name="bits"][checked]`);i.value=200;let o=new e(t,n.value,Number(a.value),200,r);n.addEventListener(`input`,()=>{o.updateText(n.value)}),i.addEventListener(`input`,()=>{o.updateSize(Number(i.value))});let s=!1,c=document.querySelector(`.container`),l=document.querySelector(`.aside`),u=document.querySelector(`#action`);u.onclick=()=>{s?(n.style.display=`flex`,c.style.width=`calc(100% - 5em)`,l.style.display=`grid`,u.innerText=`éš±`):(n.style.display=`none`,c.style.width=`100%`,l.style.display=`none`,u.innerText=`é¡¯`),s=!s},document.querySelector(`#export`).onclick=e=>{e.preventDefault(),d()};let d=()=>{if(r){let e=c.querySelector(`canvas`);if(!e)return;let t=document.createElement(`a`);t.download=`tricode-${Date.now()}.png`,t.href=e.toDataURL(`image/png`),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else{let e=c.querySelector(`svg`);if(!e)return;let t=new XMLSerializer().serializeToString(e),n=document.createElement(`canvas`),r=n.getContext(`2d`);r.imageSmoothingEnabled=!1;let i=new Image,a=new Blob([t],{type:`image/svg+xml;charset=utf-8`}),o=URL.createObjectURL(a);i.onload=()=>{n.width=e.width.baseVal.value*10,n.height=e.height.baseVal.value*10,r.drawImage(i,0,0,n.width,n.height);let t=document.createElement(`a`);t.download=`tricode-${Date.now()}.png`,t.href=n.toDataURL(`image/png`),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o)},i.src=o}};document.querySelectorAll(`input[name="bits"]`).forEach(e=>{e.addEventListener(`change`,e=>{o.updateBits(Number(Number(e.target.value)))})})};